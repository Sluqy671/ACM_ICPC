#Round 3

##T2

###Pro

给出n个点， m条边的无向图， 保证图中不存在环， 进行q次修改或询问操作， 其中每次询问为一个点xi， 求其所在连通图中最长路径， 每次修改为两个点xi和yi， 将两点所在连通图进行连通， 要求连通后图中最长路径最短.

###Sol

首先对每个点进行预处理， 求出其所在连通图， 并对每个连通图求出最长路径. 最长路径的求法可用dfs过程中维护每个点的最长和次长链完成.

对于每个点所在连通图的最长路径， 可用并查集的方法进行存储， 查询操作完成.

至于修改操作， 可证明一定是将两连通图中直径（即最长路径）的中点相连， 则直接维护并查集同时更新答案， 修改操作完成.

##T4

つづく
